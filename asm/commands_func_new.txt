IN

POPR RAX

CALL :1
OUT
HLT

:1
PUSH 1
PUSHR RAX
JE :2

PUSHR RAX
PUSH 1
SUB
POPR RAX
CALL :1
PUSHR RAX
PUSH 1
ADD
POPR RAX
PUSHR RAX
MUL
RET

:2
PUSH 1
RET