IN

POPR RAX

CALL :function
OUT
HLT

:function
PUSH 1
PUSHR RAX
JE :out

PUSHR RAX
PUSH 1
SUB
POPR RAX
CALL :function
PUSHR RAX
PUSH 1
ADD
POPR RAX
PUSHR RAX
MUL
RET

:out
PUSH 1
RET